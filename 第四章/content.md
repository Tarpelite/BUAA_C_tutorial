# 数据类型
在C语言中，数据类型指的是用于声明不同类型的变量或函数的一个广泛的系统，在这个章节中，只介绍一些简单、常用的数据类型。
## 变量
变量其实只不过是程序可操作的存储区的名称。C中每个变量都有**特定的类型**，类型决定了变量存储的大小。我们这里只介绍变量的两种基本类型：整型和浮点型。
### 变量定义
变量定义就是告诉编译器在何处创建变量的存储，以及如何创建变量的存储。变量定义指定一个数据类型。
```
int a;          //定义了一个整型a
double b, c, d; //定义了三个浮点数b, c, d
int e = 2333;   //定义了一个整型e, 并赋初值为2333
```
一些错误的定义方式：
```
int a;      //正确，定义了一个整型a
double a;   //错误，a的类型不可更改
int a;      //错误，在这个作用域内a已经被定义过
```
注：作用域后面章节会讲。
### 变量名称
变量的名称可以由字母、数字和下划线字符组成。它必须以字母或下划线开头。大写字母和小写字母是不同的，因为C是**大小写敏感**的。
例如：
```
int Var, var;   //正确，是两个不同的变量
int a2;         //正确
int 2a;         //错误，是非法的变量定义
```
C语言中还有一些关键字，他们具有特殊的含义，最简单的例子就是变量的类型int, char等，他们不能作为变量名。
### 变量初始化
这里简单讲解一下变量的初始化。
在函数外的变量为全局变量，它们的初始值为0。
在函数内的变量为局部变量，它们的初始值是随机的，需要自己设定值。

### 整数类型

#### char
是一个8位的整数类型，但是char通常用来和字符对应，他们之间的对应关系可以参考ASCII码表。char本质上保存的仍然是一个整数，可以结合下面程序理解。
```
char a = 'a';
printf("%c %d\n", a, a);
char b = 97;
printf("%c %d\n", b, b);
```
#### int
是一个32位的整数类型。存储的整数范围是$-2^{31}\sim2^{31}-1$。
这是最常用的一种变量类型，平时做题要注意考虑变量是否溢出，即计算过程中的值超出范围。
```
int a = 2147483637;     //未溢出
int b = 2147483648;     //溢出
int c = -b;             //未溢出
int d = c - 1;          //溢出
printf("%d %d %d %d\n", a, b, c, d);
```
#### long long
是一个64位的整数类型。存储范围是$-2^{63}\sim2^{63}-1$。
建议自己做像上面那段代码那样的测试加深理解。

### 浮点类型
浮点数有**float**和**double**两种类型。
其中**double**的精度更高，即存储更准确，通常情况下使用**double**类型即可。
浮点数的运算难免会有误差产生，这是它的存储机制所决定的，它的存储依靠科学记数法，详细原理可以自行了解，在这里给出一个例子。
```
printf("%e\n", 0.1 + 0.1 + 0.1 - 0.3);
```

### 类型转换
在C语言中，一条赋值语句的执行是先把赋值号右边的值算出来，然后赋值给左边的变量。我们来看下面一个例子。
```
int a = 1000000000;
int b = 1000000000;
long long c, d, e, f;
c = a * b;
d = (long long) a * (long long) b;
e = 1ll * a * b;
f = 1 * a * b;
printf("%d %d\n", a, b);
printf("%lld %lld %lld %lld\n", c, d, e, f);
```
1是字面值，默认为int类型，1ll是long long类型的字面值。

1. 这段代码中，计算c和计算f的方式本质是一样的，赋值号右边的表达式里的变量全是int类型，所以最终计算出来的结果是int类型，这就导致了溢出。
1. 计算d的方式是类型的强制转换，在计算的时候把a和b转换成了long long类型参与计算，所以右边的计算结果是long long类型，是正确的。最终变量a和b的类型不会改变，仍然是int型。
1. 计算e的方式是在运算中加入了一个long long类型的1，有兴趣的同学可以自行搜索C语言隐式类型转换进行了解。

最后再给出一个浮点型的例子，请大家和上面的例子结合起来自行理解。
```
int a = 3;
int b = 2;
printf("%lf\n", (double) a / (double) b);   //转成double以后再算a/b
printf("%lf\n", (double) (a / b));          //算出a/b后再转double
printf("%lf\n", 1.0 * a / b);               //原理同上例的e的计算,1.0是double类型的字面值
printf("%lf\n", a / b);                     //输出方式错误
```
